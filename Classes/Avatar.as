package {	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.events.Event;		public class Avatar extends MovieClip 	{		public var vx;		public var left;		public var right;		public var frame:int;				public function Avatar()		{			scaleX = 2;			scaleY = 2;			vx = 0;			left = false;			right = false;			frame = 1;			addEventListener(Event.ADDED_TO_STAGE, init);		}				public function init(evt:Event){			removeEventListener(Event.ADDED_TO_STAGE, init);			x = stage.stageWidth/2;			y = stage.stageHeight - 60;			stage.addEventListener(KeyboardEvent.KEY_DOWN, keyPressed);			stage.addEventListener(KeyboardEvent.KEY_UP, keyReleased);		}		public function update(dT:Number){			if(left && !right){				vx = -4;				scaleX = -2;			}else if(right && !left){				vx = 4;				scaleX = 2;			}else{				vx = 0;				frame = 1;			}			x = Math.min(400, Math.max(0, x + this.vx*dT));			if(frame == 1){				if(vx != 0){					frame = 2;				}			} else {				frame++;				if (frame >= 10){					frame = 2;				}			}			gotoAndStop(frame);		}				function keyPressed(keyEvent:KeyboardEvent) {			if (keyEvent.keyCode == 37) {				left = true;			} else if (keyEvent.keyCode == 39) {				right = true;			}		}		function keyReleased(keyEvent:KeyboardEvent) {			if ((keyEvent.keyCode == 37)) {				left = false;			}			if ((keyEvent.keyCode == 39)) {				right = false;			}		}	}}